<div class="studylooker-registreer-page">
  <form (ngSubmit)="onSubmit()" [formGroup]="form">
    <div class="input-container">
      <input
        class="icon-persoon"
        formControlName="voornaam"
        placeholder="Voornaam*"
        type="text"
      />
      <ng-container *ngIf="form.get('voornaam')?.errors?.['serverError']">
        <p class="error">{{ form.get("voornaam")?.errors?.["serverError"] }}</p>
      </ng-container>
    </div>
    <div class="input-container">
      <input
        class="icon-persoon"
        formControlName="achternaam"
        placeholder="Achternaam*"
        type="text"
      />
      <ng-container *ngIf="form.get('achternaam')?.errors?.['serverError']">
        <p class="error">
          {{ form.get("achternaam")?.errors?.["serverError"] }}
        </p>
      </ng-container>
    </div>
    <div class="input-container">
      <input
        class="icon-email"
        formControlName="email"
        placeholder="E-mailadres*"
        type="email"
      />
      <ng-container *ngIf="form.get('email')?.errors?.['serverError']">
        <p class="error">{{ form.get("email")?.errors?.["serverError"] }}</p>
      </ng-container>
    </div>
    <div class="input-container">
      <input
        class="icon-wachtwoord"
        formControlName="wachtwoord"
        placeholder="Wachtwoord*"
        type="password"
      />
      <ng-container *ngIf="form.get('wachtwoord')?.errors?.['serverError']">
        <p class="error">
          {{ form.get("wachtwoord")?.errors?.["serverError"] }}
        </p>
      </ng-container>
    </div>
    <div class="input-container">
      <input
        class="icon-wachtwoord"
        formControlName="bevestigWachtwoord"
        placeholder="Bevestig wachtwoord*"
        type="password"
      />
      <ng-container
        *ngIf="form.get('bevestigWachtwoord')?.errors?.['serverError']"
      >
        <p class="error">
          {{ form.get("bevestigWachtwoord")?.errors?.["serverError"] }}
        </p>
      </ng-container>
    </div>
    <div class="input-container">
      <input
        class="icon-provincie"
        formControlName="woonplaats"
        placeholder="Provincie*"
        type="text"
      />
      <ng-container *ngIf="form.get('woonplaats')?.errors?.['serverError']">
        <p class="error">
          {{ form.get("woonplaats")?.errors?.["serverError"] }}
        </p>
      </ng-container>
    </div>
    <div class="input-container">
      <input
        class="icon-studie {{ borderRadiusStudie }}"
        formControlName="huidigeStudieAndNiveau"
        placeholder="Huidige studie*"
        type="text"
      />
      <ul *ngIf="filteredRichtingen.length > 0" class="suggestions">
        <li
          (click)="onRichtingClick(richting)"
          *ngFor="let richting of filteredRichtingen"
        >
          {{ richting }}
        </li>
      </ul>
      <ng-container
        *ngIf="form.get('huidigeStudieAndNiveau')?.errors?.['serverError']"
      >
        <p class="error">
          {{ form.get("huidigeStudieAndNiveau")?.errors?.["serverError"] }}
        </p>
      </ng-container>
    </div>
    <div class="extra-diploma">
      <div formArrayName="behaaldeDiplomaArray">
        <div
          *ngFor="let diploma of behaaldeDiplomaArray.controls; let i = index"
          [formGroupName]="i"
        >
          <div class="diploma-field">
            <input
              [formControlName]="'diploma'"
              class="icon-studie diploma"
              placeholder="Behaald diploma toevoegen"
              type="text"
            />
          </div>
          <ul
            *ngIf="hasFilteredRichtingen(diploma)"
            class="suggestions smaller-suggestions"
          >
            <li
              (click)="onRichtingClick(richting, i)"
              *ngFor="let richting of diploma.get('filteredRichtingen')?.value"
            >
              {{ richting }}
            </li>
          </ul>
        </div>
      </div>
      <div class="input-container smaller-height">
        <button
          (click)="addDiplomaField()"
          [disabled]="
            !behaaldeDiplomaArray
              .at(behaaldeDiplomaArray.length - 1)
              .get('diploma')?.value
          "
          class="plus-button"
          type="button"
        >
          +
        </button>
      </div>
    </div>
    <div>
      <button type="submit">Registreer</button>
    </div>
  </form>
  <p>
    Door te registreren ga je akkoord met de algemene <br />
    voorwaarden en het Privacybeleid.
  </p>
</div>
